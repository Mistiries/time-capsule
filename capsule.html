<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Achraf and Eleni's Time Capsule</title>
<style>
body {
  margin: 0;
  padding: 0;
  background: url('images/backgroundwall.webp') no-repeat center center fixed;
  background-size: cover;
  font-family: sans-serif;
  overflow: hidden;
}

#container {
  opacity: 0;
  transition: opacity 1s ease-in;
  position: relative;
  width: 100%;
  height: 100vh;
}
#container.visible {
  opacity: 1;
}

.draggable {
  position: absolute;
  cursor: grab;
  user-select: none;
  padding: 8px;
  background: rgba(255,255,255,0.85);
  border-radius: 10px;
  box-shadow: 3px 3px 10px rgba(0,0,0,0.5);
  min-width: 120px;
  max-width: 200px;
  transition: transform 0.2s ease;
}

.draggable img {
  width: 100%;
  display: block;
  border-radius: 0;
}

.draggable.pure-item {
  background: transparent !important;
  padding: 0 !important;
  min-width: 0 !important;
  max-width: none !important;
  box-shadow: none !important;
}

.draggable img.pure {
  width: 150px;
  display: block;
}

#tray {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 25%;
  transform: translateY(100%);
  background: rgba(240,240,240,0.9);
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
  transition: transform 0.5s ease;
  z-index: 500;
  padding: 10px;
}

#tray.open { transform: translateY(0); }

#trayItems {
  position: relative;
  width: 100%;
  height: 100%;
}

#trayTab {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60px;
  height: 25px;
  background: rgba(200,200,200,0.9);
  border-top-left-radius: 15px;
  border-top-right-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  z-index: 1001;
}

#trashBin {
  position: fixed;
  bottom: 5%;
  right: 5%;
  font-size: 48px;
  z-index: 2000;
}

#table {
  position: fixed;
  bottom: 10%;
  right: 12%;
  width: 234px;
  z-index: 450;
}

#tooltip {
  position: fixed;
  pointer-events: none;
  padding: 3px 6px;
  font-size: 16px;
  background: rgba(0,0,0,0.6);
  color: white;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: 3000;
}
</style>
</head>

<body>
<div id="container">

<audio id="pickup" src="sounds/pickup.mp3"></audio>
<audio id="background" src="sounds/background.mp3" loop></audio>
<audio id="background2" src="sounds/background2.mp3" loop></audio>
<audio id="background3" src="sounds/background3.mp3" loop></audio>
<audio id="binSound" src="sounds/bin.mp3"></audio>
<audio id="traySound" src="sounds/tray.mp3"></audio>

<!-- Tray -->
<div id="tray">
  <div id="trayItems">
    <div class="draggable pure-item" style="top:20px; left:20px;">
      <img id="peachTea" src="images/peachtea.webp" class="pure">
    </div>
    <div class="draggable pure-item" style="top:20px; left:190px;">
      <img id="laces" src="images/laces.png" class="pure" style="width:135px;">
    </div>
  </div>
</div>

<div id="trayTab">‚ñ≤</div>

<!-- Desk images -->
<div class="draggable pure-item" style="top:35%; left:55%; transform:rotate(-12deg);">
  <img id="image1" src="images/image1.jpg" class="pure" style="width:130px;">
</div>

<div class="draggable pure-item" style="top:38%; left:60%; transform:rotate(8deg);">
  <img id="image2" src="images/image2.jpg" class="pure" style="width:130px;">
</div>

<img src="images/table.webp" id="table">
<div id="trashBin">üóëÔ∏è</div>
<div id="tooltip"></div>

</div>

<script>
const tooltip = document.getElementById('tooltip');
const container = document.getElementById('container');

function setupTooltip(el, text) {
  let t;
  el.addEventListener('mouseenter', () => {
    t = setTimeout(() => {
      tooltip.textContent = text;
      tooltip.style.opacity = 1;
    }, 200);
  });
  el.addEventListener('mouseleave', () => {
    clearTimeout(t);
    tooltip.style.opacity = 0;
  });
  el.addEventListener('mousemove', e => {
    tooltip.style.left = e.clientX + 14 + 'px';
    tooltip.style.top = e.clientY + 14 + 'px';
  });
}

/* Explicit tooltips ‚Äì no indexing bugs */
setupTooltip(document.getElementById('peachTea'), 'I love peach tea');
setupTooltip(document.getElementById('laces'), 'I ate these all the time as a child');
setupTooltip(document.getElementById('image1'), 'the day you got my first letter');
setupTooltip(document.getElementById('image2'), 'the day you got my first letter');
setupTooltip(document.getElementById('table'), 'a strong sturdy table');

window.addEventListener('DOMContentLoaded', () => {
  requestAnimationFrame(() => container.classList.add('visible'));
});
</script>
</body>
</html>
